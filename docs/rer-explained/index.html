<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="master.css">
  <link rel="stylesheet" href="../indepth-guide/master.css">
  <title>RER Explained</title>
</head>
<body>

  <h1>Random Encounters Reworked explained</h1>

  <section class="summary">
    <ul>
      <li>
        <a href="#part-1">1.</a> First i explain what is the <span>Encounter System</span>, what it does and doesn't do, and what to expect from it.
      </li>

      <li>
        <a href="#part-2">2.</a> Then i explain what is the <span>Event System</span>, what it does and doesn't do, and what to expect from it.
      </li>

      <li>
        <a href="#part-3">3.</a> Here i show you the <span>Trophy System</span> and why it was created, and as always what to expect from this system.
      </li>

      <li>
        <a href="#part-4">4.</a> Here i explain what are <span>External Factors</span> and why it was created.
      </li>

      <li>
        <a href="#part-5">5.</a> I also explain how the <span>Creatures ratios</span> work because they're not simple percentages
      </li>

      <li>
        <a href="#part-6">6.</a> After that, i explain what's the <span>Ecosystem <i>system</i></span> and how it affects creatures ratios and other systems
      </li>
    </ul>

    <hr />
    <ul>
      <li>
        <a href="#part-7">7.</a> <span>BONUS:</span> Finally i'm sharing with you the settings i use, i also show you how can you tweak the mod to
        fill the world however you want
        <ul>
          <li><a href="#part-7-1">7.1.</a> My settings</li>
          <li><a href="#part-6-2">7.2.</a> Going further with the settings</li>
        </ul>
      </li>
    </ul>

    <hr />

    <ul>
      <li>
        <a href="#part-8">8.</a> The mod has lots of <span>optional features</span> you can toggle whenever you want. 
      </li>
    </ul>
  </section>

  <section id="part-1">
    <h2>The Encounter System</h2>
    <blockquote class="info">
      What is the Encounter System and what to expect from it.
    </blockquote>

    <div id="part-1-1">
      <h3>Encounter - Ambush</h3>

      <div>
        <h4>What is an ambush?</h4>
        <div>
          A monster ambush is when RER chooses a random creatures based on <a href="#part-4">external factors</a> and force
          the monsters to target the player no matter the distance at which they were spawned.
          Geralt is then ambushed by creatures who were created in his back so he could not see them come.
        </div>
      </div>

      <div>
        <h4>The settings linked to ambushes?</h4>
        <div>
          <ul>
            <li>
              You can set at which interval an ambush appears, it is a random value picked between two delays you set in the
              <span>Encounter system / General</span> menu. There you can tell the minimum interval between two ambushes and also the
              maximum delay.
            </li>
            <li>
              The creature type is picked randomly by RER based on <a href="#part-4">external factors</a> and the pool of creatures
              you set in the <span>Encounter system / Ambush</span> menus
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div id="part-1-2">
      <h3>Encounter - Hunt</h3>

      <div>
        <h4>What is a hunt?</h4>
        <div>
          A monster hunt is when RER chooses a random creatures based on <a href="#part-4">external factors</a> and force
          the monsters to follow an invisible bait. The creatures won't target Geralt unless he gets too close, at this moment they will
          stop following the bait for good and start attacking Geralt.
          The creatures from monster hunts leave foot tracks on the ground. There are many types of tracks, a human will leave
          boot prints while a spirit will create a fake fog around him.
          It is up to you to follow the tracks and kill the creatures
        </div>
      </div>

      <div>
        <h4>The settings linked to hunts?</h4>
        <div>
          <ul>
            <li>
              You can set at which interval a hunt appears, it is a random value picked between two delays you set in the
              <span>Encounter frequency</span> menu. There you can tell the minimum interval between two hunts and also the
              maximum delay.
            </li>
            <li>
              The creature type is picked randomly by RER based on <a href="#part-4">external factors</a> and the pool of creatures
              you set in the <span>Encounter system / Hunt</span> menus
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div id="part-1-3">
      <h3>Encounter - Contract</h3>

      <div>
        <h4>What is a Contract?</h4>
        <div>
          A monster contract is a special encounter, a mix between regular monster contracts for the base game and dynamic events.
          It is phase based encounter with clues you have to follow and fights you have to complete to progress through the encounter.
        </div>
      </div>

      <div>
        <h4>The settings linked to contracts?</h4>
        <div>
          <ul>
            <li>
              You can set at which interval a contract appears, it is a random value picked between two delays you set in the
              <span>Encounter frequency</span> menu. There you can tell the minimum interval between two contracts and also the
              maximum delay.
            </li>
            <li>
              The creature type is picked randomly by RER based on <a href="#part-4">external factors</a> and the pool of creatures
              you set in the <span>Encounter system / Contract</span> menu. The default values from this encounter prioritize large creatures because
              the encounter was made with them in mind.
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section id="part-2">
    <h2>The Event System</h2>
    <blockquote class="info">
      What is the Event System and what to expect from it.
    </blockquote>

    <div>
      The Event System is different from the Encounter System because this time it is a set of actions that are triggered
      when you, the player, do something specific. For example there are events when you're hurt or when you enter an area.
      There are also events who do not need any player's action but instead will dynamically change the world around him, such
      as adding creatures to group of monsters
    </div>

    <div id="part-2-1">
      <h3>Event - Blood necrophages</h3>

      <div>
        <h4>What does it do?</h4>
        <div>
          When Geralt is bleeding there is a chance the blood will attract necrophages and create a monster ambush
          with necrophages only. The lower the health the higher the chances.
        </div>
      </div>

      <div>
        <h4>The settings linked to this event?</h4>
        <div>
          <ul>
            <li>
              You can change the chances for this event to trigger in the event system menu with the slider <span>Blood Necrophages</span>.
              The value correspond to when you're at the lowest health possible.
            </li>
            <li>
              The creature type is picked randomly by RER based on <a href="#part-4">external factors</a> and the pool of creatures
              you set in the <span>Encounter system / Ambush</span> menus
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div id="part-2-2">
      <h3>Event - Bodies necrophages</h3>

      <div>
        <h4>What does it do?</h4>
        <div>
          Every remains around you that you leave untouched can attract nearby necrophages and create an ambush.
          Make sure to clean these and drop the unwanted items in clean lootbags.
        </div>
      </div>

      <div>
        <h4>The settings linked to this event?</h4>
        <div>
          <ul>
            <li>
              You can change the chances for this event to trigger in the event system menu with the slider <span>Bodies Necrophages</span>.
            </li>
            <li>
              The creature type is picked randomly by RER based on <a href="#part-4">external factors</a> and the pool of creatures
              you set in the <span>Encounter system / Ambush</span> menus
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div id="part-2-3">
      <h3>Event - Enters swamp</h3>

      <div>
        <h4>What does it do?</h4>
        <div>
          Every time Geralt enters a swamp there is a chance the creatures living there will ambush him.
        </div>
      </div>

      <div>
        <h4>The settings linked to this event?</h4>
        <div>
          <ul>
            <li>
              You can change the chances for this event to trigger in the event system menu with the slider <span>Enters swamp</span>.
            </li>
            <li>
              The creature type is picked randomly by RER based on <a href="#part-4">external factors</a> and the pool of creatures
              you set in the <span>Encounter system / Ambush</span> menus
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div id="part-2-4">
      <h3>Event - Fight noise</h3>

      <div>
        <h4>What does it do?</h4>
        <div>
          A fight cannot go without noise, and the noises could attract curious nearby creatures.
          Every time Geralt fights there is a chance the noise will attract any type of creatures who will ambush him.
        </div>
      </div>

      <div>
        <h4>The settings linked to this event?</h4>
        <div>
          <ul>
            <li>
              You can change the chances for this event to trigger in the event system menu with the slider <span>Fight noise</span>.
            </li>
            <li>
              The creature type is picked randomly by RER based on <a href="#part-4">external factors</a> and the pool of creatures
              you set in the <span>Encounter system / Ambush</span> menus
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div id="part-2-5">
      <h3>Event - Fill group of creatures</h3>

      <div>
        <h4>What does it do?</h4>
        <div>
          This one is different than the others, it searches for creatures around Geralt and if they're not in combat it will
          randomly add a few creatures to the group based on their type.
        </div>
      </div>

      <div>
        <h4>The settings linked to this event?</h4>
        <div>
          <ul>
            <li>
              You can change the chances for this event to trigger in the event system menu with the slider <span>Fill group creatures</span>.
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div id="part-2-6">
      <h3>Event - Noticeboard contract</h3>

      <div>
        <h4>What does it do?</h4>
        <div>
          The noticeboard event is a way to get random <a href="#part-1-3">monster contract encounters</a> from any noticeboard in the game. Watch the demo to really understand how it works.
          Whenever Geralt approches a noticeboard you already cleared, the mod will take control of your camera and Geralt will start talking about an unusual contract
          for monsters prowling around the settlement.
          Then the next time you will leave the city the mod will once again take control of your camera to show you where you should start investigating.
          From there you can go hunt the monster and repeat this how many times you want. The position of the monster contract is dynamic,
          it means the mod analyzes where you went and chooses accordingly. You can fight the monsters in the places YOU want.
        </div>
      </div>

      <div>
        <h4>The settings linked to this event?</h4>
        <div>
          <ul>
            <li>
              You can change the chances for this event to trigger once you leave the city in the event system menu with the slider <span>Noticeboard contract event</span>.
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section id="part-3">
    <h2>The Trophy system</h2>
    <blockquote class="info">
      What is the Trophy System and what to expect from it.
    </blockquote>

    <div id="part-1-1">
      <h3>What is the trophy system?</h3>

      <div>
        The trophy system isn't something complicated actually, RER comes with 24 new trophies it will add to every creatures
        it spawns so Geralt can loot them and get a few crowns by selling them. The trophies do not give any advantage and are
        not supposed to be equipped, they even stack up to 24 in the inventory and weight less than a regular trophy.
      </div>
    </div>

    <div>
      <h4>The settings linked to trophies?</h4>
      <div>
        <ul>
          <li>
            You can set the chances for the creatures to drop a trophies in the <span>Trophy system</span> menu.
            Setting one to <span>100</span> means the creature will always drop a trophy while a <span>0</span> means it will never drop one.
          </li>
          <li>
            You can also choose to play a cutscene where Geralt collects the trophy with his hunting knife whenever you end a fight
            and there are trophies nearby. The option is in the <span>Optional features</span> menu.
          </li>
        </ul>
      </div>
    </div>
  </section>

  <section id="part-4">
    <h2>The External Factors system</h2>
    <blockquote class="info">
      What is an external factor and what to expect from it.
    </blockquote>

    <div id="part-4-1">
      <h3>What is the external factors system?</h3>

      <div>
        The creatures in the Witcher world all have preferences as to where they live. You don't expect to see a drowner
        in the middle of a forest and we all know leshens prefer forests.
        <br>
        Everytime RER has to pick a random creature it will retrieve the chances you set in the <span>Creatures ratio</span> menu
        and then change them according to the region Geralt is in. Here are some of the factors in the system:
        <ul>
          <li>a creature can dislike the region, which means its chances will be decreased</li>
          <li>a creature can like the region, which means its chances will be increased</li>
          <li>a creature cannot live in the region, which means its chances will be reduced to 0 no matter what</li>
          <li>a creature can only live in the region, which means its chance will be increased. It stacks with "like region"</li>
        </ul>
        So everytime RER decides to increase of decrease a value it uses the <span>External factors coefficient</span> you set in
        the <span>Encounter system / General</span> menu
      </div>
    </div>
  </section>

  <section id="part-5">
    <h2>The Creatures ratios</h2>
    <blockquote class="info">
      What is a creature ratio and what to expect from it.
    </blockquote>

    <div id="part-5-1">
      <h3>What is a creature ratio?</h3>

      <div>
        Creatures ratios are not exactly percent chances of spawning. You may have seen RER handles at least thirty creatures
        and each creature has its ratio. So if you set them all to <span>100</span> it doesn't mean they all have 100% of spawning.
        The mod actually does the sum of the ratios from the creatures pool and then calculates the percentage from it.
        <br>
        Here is a example, imagine we set all the creatures to 0 to disable them except the following ones:
        <ul>
          <li>Wolves: we set it at 25</li>
          <li>Bears: we set it at 50</li>
          <li>Humans: we set it at 100</li>
        </ul>
        Their chances will be calculated like this
        <ul>
          <li>the sum of all the ratios makes <span>25 + 50 + 100 = 175</span></li>
          <li>so the wolves ratio is <span>25 / 175 = 0.14</span>, so ~14% it is</li>
          <li>for the bears: <span>50 / 175 = 0.28</span> ~28% for the bears</li>
          <li>and the humans: <span>100 / 175 = 0.57</span>, ~57% for the humans</li>
        </ul>
        But now if you increased the wolves ratio or added a new creature to the pool, everyone else's % would decrease.
        So if you have the Bestiary feature enabled, every time you discover a new species the previously known creatures
        will see their chances of spawning decreased because a new one was added to the pool.
      </div>
    </div>
  </section>

  <section id="part-6">
    <h2>The ecosystem system</h2>
    <blockquote class="info">
      What is a the ecosystem feature and what to expect from it
    </blockquote>

    <div id="part-6-1">
      <h3>What is the ecosystem feature</h3>

      <div>
        the ecosystem feature tries to simulate a full living ecosystem with the Witcher 3 creatures with a custom food chain.
        So every time you will kill something, it will have an effect on the creatures that live here and indirectly the creatures
        that do not live here. And with these change the mod will update the values found in the settings (that you set yourself)
        to match the current ecosystem. For example an area with Wolves may increase the number griffins and basilisks but also reduce
        the amount of boars which will indirectly affect the amount of humans you will find too, and humans also affect the number of necrophages
        and so on... 
      </div>

      <div>
        The feature comes with 3 important sliders. But first let me explain a few keywords i use that may confuse you:
        <ul>
          <li>A <span>community</span> is the set of creatures who live in the current ecosystem.</li>
          <li>The community <span>power</span> is a unit that represents how strong a specific species in the given community.
            The power can either be a positive value or a negative value.
          </li>
        </ul>

        <ul>
          <li><span>Community power effect</span>: the slider changes how much the community power affects the values you set in your settings.
            Setting it at <span>0</span> will completely disable the ecosystem feature and setting it a high value will prioritize creatures
            with the higher powest in the surrounding communities when picking a random creature to spawn.
          </li>
          <li><span>Community power spread</span>: the more combined power a community has the more area it covers. Both negative and positive
            power values increase the area, but positive value has more effect on the area spread. If you set this slider to 0 it will disable
            this feature, and if you set it to a higher value it will increase by how much the power increases a community spread.
            <i>note: two communities can overlap and affect each-other and slowly merge their power values over time.</i>
          </li>
          <li><span>Community natural death speed</span>: This slider is super important. What you set here could completely change how the
            communities in your ecosystem will grow and die. Let me explain quickly how the system works under the hood and why i made it that way:
            everytime a creature spawns in an area, if searches for communities that already live here (and creates one if there is none) and increase
            this species power in these communities. This helps species gain a place in existing communities and makes already big communities grow even more.
            <br />
            But now you may see why a natural death is important. If you let a community grow by itself, species with huge power will slowly but steadily get more and more
            power. Of course the food chain should help stabilise things, but i'd be magician if i managed to make a sustainable foodchain for the
            game. So i put in place this little things that remove <span>x</span>% of each species in the communities a creature spawn in. Which means that
            species with high power will decrease by a big amount when small species won't change as much as it is a percentage. And this slider controls
            this percentage, if you set it to <span>100</span> it will reset all communities everytime a creature spawns which doesn't make any sense üòÅ. And if you set
            it to <span>0</span> then you will encounter the issue i talke about. If you think your communities are not homogeneous and you would prefer
            a more vanilla like experience but still with a few communities here and there than i'd suggest to increase this slider to maybe <span>10</span>%.
          </li>
        </ul>
      </div>

      <div>
        Creatures ratios are not exactly percent chances of spawning. You may have seen RER handles at least thirty creatures
        and each creature has its ratio. So if you set them all to <span>100</span> it doesn't mean they all have 100% of spawning.
        The mod actually does the sum of the ratios from the creatures pool and then calculates the percentage from it.
        <br>
        Here is a example, imagine we set all the creatures to 0 to disable them except the following ones:
        <ul>
          <li>Wolves: we set it at 25</li>
          <li>Bears: we set it at 50</li>
          <li>Humans: we set it at 100</li>
        </ul>
        Their chances will be calculated like this
        <ul>
          <li>the sum of all the ratios makes <span>25 + 50 + 100 = 175</span></li>
          <li>so the wolves ratio is <span>25 / 175 = 0.14</span>, so ~14% it is</li>
          <li>for the bears: <span>50 / 175 = 0.28</span> ~28% for the bears</li>
          <li>and the humans: <span>100 / 175 = 0.57</span>, ~57% for the humans</li>
        </ul>
        But now if you increased the wolves ratio or added a new creature to the pool, everyone else's % would decrease.
        So if you have the Bestiary feature enabled, every time you discover a new species the previously known creatures
        will see their chances of spawning decreased because a new one was added to the pool.
      </div>
    </div>
  </section>

  <section id="part-7">
    <h2>Random Encounters Reworked settings</h2>
    <blockquote class="info">
      What settings i use and how you can tweak them too
    </blockquote>

    <div id="part-7-1">
      <h3>Sharing my settings</h3>

      <div>
        <p>
          Almost all the features the mod offers is linked to an option in the mod settings. So if there is something you don't like,
          you can always disable the feature completely or tweak the settings to your liking.

        </p>
        <p>
          This is what i did, i felt the ambushes didn't suit my Ghost Mode playthrough where i must prepare for a fight. I couldn't
          drink my potions nor oil my swords and most of the ambushes resulted in a death for Geralt. I either had to lower the overall RER
          difficulty or decrease the amount of ambushes. I prefer monsters who are roaming the world that i can track if i want to or ignore them
        </p>
        <p>
          For this reason i changed the <span>Encounter types</span> to the following:
          <ul>
            <li>Monster ambush frequency to <span>15</span></li>
            <li>Monster hunt frequency to <span>100</span></li>
            <li>Monster contract frequency to <span>15</span></li>
          </ul>          
        </p>
        <p>
          But having mostly monsters hunts means we get almost no fight unless we track the creatures, i still wanted some fights from time to time.
          So i decreased the <span>Creatures frequencies</span> to low values:
          <ul>
            <li>Minimum delay during the day at <span>60</span></li>
            <li>Maximum delay during the day at <span>150</span></li>
            <li>Minimum delay during the night at <span>50</span></li>
            <li>Maximum delay during the night at <span>120</span></li>
          </ul>
          With this my world is filled with lots of creatures and often i cross the path of a wild group of creatures which results in a fight.
          But atleast this time i had the time to prepare.
        </p>
        <p>
          The monster ambush frequency is set to <span>15</span> but i made sure to remove every monsters from this encounter.
          This way ambushes are only made by groups of humans, who are not a big threat themselves but can still cause me trouble if the ambush
          starts <a href="https://www.youtube.com/watch?v=ghYSrHbHm1A&feature=youtu.be">as soon as i leave a combat</a> or i'm low health. Human also drop food when killed which is useful when doing Hardcore runs where every
          apple is appreciated. So the ambushes present a risk but if i go through them i get rewarded with food and healing.
        </p>
        <p>
          The default distance at which the creatures spawn were made for the ambushes in mind. So i decided to increase them a bit to prevent the
          newly spawned creatures to meet Geralt just a few seconds after they entered the world. I then increased the <span>Advanced / Distances</span> settings:
          <ul>
            <li>Minimum spawn distance (in meters) at <span>40</span></li>
            <li>Spawn diameter (in meters) at <span>120</span></li>
            <li>Automatic kill threshold at <span>800</span></li>
          </ul>
        </p>
        <p>Everything else i use the default values</p>
      </div>
    </div>

    <div id="part-7-2">
      <h3>Going further with the settings</h3>

      <div>
        I hope the settings i shared gave you some ideas, 
        <p>
          You could completely remove the monster hunts and ambushes and only use the events system, for example. It's true the mod uses both of them concurrently but
          it doesn't mean you have to use both, the event system with increased % chances can be enough to get a world filled with monsters.
          <br>
          Especially with the <span>Fill group of creatures</span> event (which i love, huge thanks to <a href="https://www.nexusmods.com/users/209845">Mimicry</a> for the amazing idea).
        </p>
        <p>
          You could also remove the monster hunts and greatly inrease the distances at which the ambushes spawn, you then set the Fill group of creatures event at 80%
          and you will get ambushes by a completely random amount of creatures.
        </p>
      </div>
    </div>
  </section>

  <section id="part-8">
    <h2>optional features and settings</h2>
    <blockquote class="info">
      Section about the optional features and what each toggle does
    </blockquote>

    <div id="part-8-1">

      <ul>
        <li><span>Encounters loot</span>: when set to OFF creatures spawned by RER won't drop any loot when killed</li>
        <li><span>Geralt comments</span>: when set to OFF geralt won't say anything when an ambush, a hunt or a contract is created nearby</li>
        <li><span>Action camera scenes</span>: when set to OFF the mod won't play any camera effect during the open world exploration.
          For example there are camera effects when Geralt is ambushed or when a contract is created nearby
        </li>
        <li><span>Only known bestiary creatures</span>: when set to ON the mod will not spawn creatures you haven't met yet, creatures who are not in your bestiary are excluded from the pools</li>
        <li><span>Hide notifications</span>: when set to ON will block any notifications coming from the mod (the popup in the lower left side of your screen)</li>
        <li><span>Camera scenes</span>: when set to OFF disable any camera scene player by the mod, action camera scenes included</li>
        <li><span>Camera blending</span>: when set to OFF will remove the smooth camera transition when a camera scene is played.
          This toggle was created because of a bug in the mod Immersive Camera that would crash the game.
        </li>
        <li><span>Trophy animation</span>: when set to OFF the mod won't play any cutscene when you get out of a combat with RER trophies nearby.</li>

      </ul>
    </div>
  </section>
  
</body>
</html>